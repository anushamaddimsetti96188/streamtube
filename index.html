<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StreamTube - Anusha Profile & Video Player</title>
    <style>
        /* --- CSS VARIABLES --- */
        :root {
            --bg-color: #0f0f0f;
            --header-bg: #0f0f0f;
            --sidebar-bg: #0f0f0f;
            --text-primary: #ffffff;
            --text-secondary: #aaaaaa;
            --hover-bg: #272727;
            --accent-color: #3ea6ff;
            --red-color: #ff0000;
            --border-color: #303030;
            --header-height: 56px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', Arial, sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-primary);
            overflow-x: hidden;
        }

        /* --- SCROLLBAR --- */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #717171; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #a0a0a0; }

        /* --- HEADER --- */
        header {
            position: fixed; top: 0; left: 0; width: 100%;
            height: var(--header-height); background-color: var(--header-bg);
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 16px; z-index: 100;
        }

        .header-left { display: flex; align-items: center; gap: 16px; }
        .menu-btn { background: none; border: none; color: white; cursor: pointer; padding: 8px; border-radius: 50%; }
        .menu-btn:hover { background-color: var(--hover-bg); }
        .logo { display: flex; align-items: center; gap: 4px; font-size: 1.2rem; font-weight: bold; cursor: pointer; }
        .logo svg { height: 24px; width: auto; fill: var(--red-color); }

        .header-center { display: flex; align-items: center; flex: 1; max-width: 600px; margin: 0 20px; }
        .search-box { display: flex; width: 100%; }
        .search-input {
            width: 100%; padding: 0 16px; height: 40px;
            background-color: #121212; border: 1px solid var(--border-color);
            border-right: none; border-radius: 20px 0 0 20px; color: white; font-size: 16px;
        }
        .search-input:focus { outline: none; border-color: #1c62b9; }
        .search-btn {
            height: 40px; width: 64px; background-color: #222222;
            border: 1px solid var(--border-color); border-radius: 0 20px 20px 0;
            color: white; cursor: pointer; display: flex; align-items: center; justify-content: center;
        }
        .search-btn:hover { background-color: #303030; }

        .header-right { display: flex; align-items: center; gap: 12px; }
        .icon-btn { background: none; border: none; color: white; cursor: pointer; padding: 8px; border-radius: 50%; }
        .icon-btn:hover { background-color: var(--hover-bg); }
        .user-avatar { width: 32px; height: 32px; border-radius: 50%; background-color: #555; cursor: pointer; overflow: hidden; }
        .user-avatar img { width: 100%; height: 100%; object-fit: cover; }

        /* --- LEFT SIDEBAR (NAVIGATION ONLY) --- */
        .sidebar {
            position: fixed; top: var(--header-height); left: 0;
            width: 240px; height: calc(100vh - var(--header-height));
            background-color: var(--sidebar-bg); overflow-y: auto;
            padding-right: 10px; transition: transform 0.3s ease-in-out; z-index: 99;
        }
        .sidebar.collapsed { transform: translateX(-100%); }
        .sidebar-section { padding: 12px; border-bottom: 1px solid var(--border-color); }
        .sidebar-section:last-child { border-bottom: none; }

        .sidebar-link {
            display: flex; align-items: center; padding: 0 12px; height: 40px;
            border-radius: 10px; cursor: pointer; color: white; text-decoration: none; margin-bottom: 4px;
        }
        .sidebar-link:hover { background-color: var(--hover-bg); }
        .sidebar-link.active { background-color: var(--hover-bg); font-weight: bold; }
        .sidebar-link svg { margin-right: 24px; fill: white; width: 24px; height: 24px; flex-shrink: 0; }
        
        .section-title { font-size: 16px; font-weight: bold; padding: 8px 12px; margin-top: 8px; }

        /* --- RIGHT SIDEBAR (PROFILE DRAWER) --- */
        .overlay {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background-color: rgba(0,0,0,0.5); z-index: 150;
            opacity: 0; visibility: hidden; transition: 0.3s;
        }
        .overlay.active { opacity: 1; visibility: visible; }

        .right-sidebar {
            position: fixed; top: var(--header-height); right: 0;
            width: 320px; height: calc(100vh - var(--header-height));
            background-color: var(--sidebar-bg); 
            border-left: 1px solid var(--border-color);
            transform: translateX(100%); transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 151; overflow-y: auto;
            display: flex; flex-direction: column;
        }
        .right-sidebar.active { transform: translateX(0); }

        /* --- PROFILE COMPONENT STYLES --- */
        .profile-header {
            display: flex; align-items: center; padding: 12px;
            gap: 12px; margin-bottom: 8px;
        }
        .profile-avatar-large {
            width: 48px; height: 48px; border-radius: 50%; object-fit: cover;
        }
        .profile-info { flex: 1; }
        .profile-name {
            color: white; font-size: 16px; font-weight: 500; line-height: 1.2;
        }
        .profile-email {
            color: var(--text-secondary); font-size: 14px; margin-top: 2px;
        }
        .account-actions { padding: 0 12px; margin-bottom: 12px; }
        .account-link {
            color: var(--accent-color); text-decoration: none;
            font-size: 14px; font-weight: 500; display: block; margin-bottom: 12px;
        }
        .account-link:hover { text-decoration: underline; }
        .account-buttons { display: flex; align-items: center; gap: 8px; }
        .text-btn {
            background: none; border: none; color: var(--accent-color);
            font-weight: 500; font-size: 14px; cursor: pointer; padding: 0;
        }
        .text-btn:hover { text-decoration: underline; }
        .separator { color: var(--text-secondary); font-size: 12px; font-weight: bold; }

        .settings-content {
            display: flex; align-items: center; flex: 1; min-width: 0;
        }
        .settings-text {
            white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
        }
        .chevron { color: var(--text-secondary); width: 20px; height: 20px; flex-shrink: 0; }

        /* --- MAIN CONTENT --- */
        main {
            margin-top: var(--header-height); margin-left: 240px; padding: 24px;
            transition: margin-left 0.3s ease-in-out;
        }
        main.expanded { margin-left: 0; }

        /* --- CHIPS --- */
        .chips-container {
            display: flex; gap: 12px; overflow-x: auto; padding-bottom: 16px; margin-bottom: 16px;
            scrollbar-width: none;
        }
        .chips-container::-webkit-scrollbar { display: none; }
        .chip {
            background-color: #272727; color: white; padding: 6px 12px;
            border-radius: 8px; font-size: 14px; cursor: pointer; white-space: nowrap; border: none;
        }
        .chip:hover { background-color: #3f3f3f; }
        .chip.active { background-color: white; color: black; }

        /* --- GRIDS --- */
        .video-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px 16px; }
        .shorts-grid { display: flex; flex-wrap: wrap; gap: 16px; justify-content: flex-start; }

        .video-card { cursor: pointer; transition: transform 0.2s; }
        .video-card:hover { transform: scale(1.02); }
        .thumbnail { width: 100%; border-radius: 12px; overflow: hidden; position: relative; background-color: #222; }
        .video-card:not(.short-card) .thumbnail { aspect-ratio: 16/9; }
        .short-card .thumbnail { width: 200px; aspect-ratio: 9/16; height: 355px; }
        .thumbnail img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.4s ease; }
        .short-card:hover .thumbnail img { transform: scale(1.1); }

        .duration {
            position: absolute; bottom: 8px; right: 8px;
            background-color: rgba(0,0,0,0.8); color: white;
            font-size: 12px; padding: 3px 6px; border-radius: 4px; font-weight: bold;
        }

        .play-overlay {
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            width: 40px; height: 40px; background: rgba(0,0,0,0.6); border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            opacity: 0; transition: 0.2s; pointer-events: none;
        }
        .short-card:hover .play-overlay { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        .play-overlay svg { fill: white; width: 20px; height: 20px; margin-left: 2px; }

        .video-info { display: flex; margin-top: 12px; gap: 12px; }
        .short-info { margin-top: 8px; width: 200px; }
        .channel-icon { width: 36px; height: 36px; border-radius: 50%; background-color: #333; flex-shrink: 0; overflow: hidden; }
        .channel-icon img { width: 100%; height: 100%; object-fit: cover; }
        .video-details { display: flex; flex-direction: column; }
        .video-title {
            font-size: 16px; font-weight: 600; line-height: 1.4; margin-bottom: 4px;
            display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; color: white;
        }
        .short-title {
            font-size: 14px; font-weight: 600; margin-bottom: 4px;
            display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
        }
        .channel-name, .video-meta { font-size: 14px; color: var(--text-secondary); }

        /* --- SKELETON LOADING --- */
        .skeleton {
            background-color: #272727;
            animation: skeleton-loading 1s linear infinite alternate;
        }
        @keyframes skeleton-loading {
            0% { opacity: 0.6; }
            100% { opacity: 1; }
        }
        .skeleton-card .thumbnail { height: 180px; width: 100%; border-radius: 12px; }
        .skeleton-card .channel-icon { width: 36px; height: 36px; border-radius: 50%; }
        .skeleton-card .video-title { height: 20px; width: 90%; margin-bottom: 8px; border-radius: 4px; }
        .skeleton-card .channel-name { height: 16px; width: 60%; border-radius: 4px; }
        .skeleton-card .video-meta { height: 16px; width: 40%; border-radius: 4px; margin-top: 4px; }

        /* --- PLAYER MODAL --- */
        .player-modal {
            display: none; position: fixed; top: 0; left: 0;
            width: 100vw; height: 100vh; background: black;
            z-index: 2000; justify-content: center; align-items: center; flex-direction: column;
        }
        
        .player-content {
            width: 100%; max-width: 900px;
            height: auto; position: relative; background: black;
            box-shadow: 0 0 20px rgba(0,0,0,0.8);
            display: flex; align-items: center; justify-content: center;
        }

        .player-content.is-short {
            max-width: 400px; height: 90vh;
        }
        
        .player-video { width: 100%; display: block; outline: none; }
        .player-content:not(.is-short) .player-video { max-height: 80vh; object-fit: contain; }
        .player-content.is-short .player-video { height: 100%; object-fit: cover; width: 100%; }
        
        .close-player {
            position: absolute; top: 20px; right: 20px;
            color: white; background: rgba(0,0,0,0.5); border: none;
            padding: 10px; cursor: pointer; border-radius: 50%;
            font-size: 24px; z-index: 2001; width: 40px; height: 40px;
            display: flex; align-items: center; justify-content: center;
        }
        .close-player:hover { background: rgba(0,0,0,0.8); }

        .player-details {
            padding: 15px; color: white; width: 100%; max-width: 900px;
        }
        .player-details h2 { font-size: 20px; margin-bottom: 5px; }
        .player-details p { color: #aaa; font-size: 14px; }

        /* --- RESPONSIVE --- */
        @media (max-width: 768px) {
            .search-box { display: none; }
            .header-center { justify-content: flex-end; }
            .sidebar { transform: translateX(-100%); }
            .sidebar.active { transform: translateX(0); }
            main { margin-left: 0; }
            .player-content { max-width: 100%; height: auto; }
            .player-content:not(.is-short) .player-video { max-height: 40vh; }
            .player-content.is-short { max-width: 100%; height: 80vh; }
            .right-sidebar { width: 100%; max-width: 320px; }
        }

        .toast {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            background-color: white; color: black; padding: 12px 24px;
            border-radius: 4px; font-weight: 500; opacity: 0; transition: opacity 0.3s;
            pointer-events: none; z-index: 200;
        }
        .toast.show { opacity: 1; }
    </style>
</head>
<body>

    <!-- Overlay for Right Sidebar -->
    <div class="overlay" id="overlay" onclick="closeProfileSidebar()"></div>

    <!-- Header -->
    <header>
        <div class="header-left">
            <button class="menu-btn" onclick="toggleSidebar()" aria-label="Menu">
                <svg height="24" viewBox="0 0 24 24" width="24" focusable="false" style="fill: white;"><path d="M21 6H3V5h18v1zm0 5H3v1h18v-1zm0 6H3v1h18v-1z"></path></svg>
            </button>
            <div class="logo" onclick="switchTab('home')">
                <svg viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path></svg>
                StreamTube
            </div>
        </div>

        <div class="header-center">
            <div class="search-box">
                <input type="text" class="search-input" placeholder="Search" id="searchInput">
                <button class="search-btn" onclick="performSearch()" aria-label="Search">
                    <svg height="24" viewBox="0 0 24 24" width="24" focusable="false" style="fill: white;"><path d="M20.87 20.17l-5.59-5.59C16.35 13.35 17 11.75 17 10c0-3.87-3.13-7-7-7s-7 3.13-7 7 3.13 7 7 7c1.75 0 3.35-.65 4.58-1.29l5.59 5.59 1.41-1.41zM10 16c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"></path></svg>
                </button>
            </div>
            <button class="icon-btn" style="margin-left: 8px; background: #181818;" aria-label="Voice Search">
                <svg height="24" viewBox="0 0 24 24" width="24" focusable="false" style="fill: white;"><path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"></path><path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"></path></svg>
            </button>
        </div>

        <div class="header-right">
            <button class="icon-btn" onclick="showToast('Create feature coming soon!')" aria-label="Create">
                <svg height="24" viewBox="0 0 24 24" width="24" focusable="false" style="fill: white;"><path d="M14 13h-3v3H9v-3H6v-2h3V8h2v3h3v2zM17 6H3v12h14v-6.39l4 1.83V8.56l-4 1.83V6m1-1v3.83L22 7v8l-4-1.83V19H2V5h16z"></path></svg>
            </button>
            <button class="icon-btn" onclick="showToast('No new notifications')" aria-label="Notifications">
                <svg height="24" viewBox="0 0 24 24" width="24" focusable="false" style="fill: white;"><path d="M10 20h4c0 1.1-.9 2-2 2s-2-.9-2-2zm10-2.65V19H4v-1.65l2-1.88V11c0-2.96 1.67-5.47 4-6.32V4c0-1.1.9-2 2-2s2 .9 2 2v.68c2.33.85 4 3.36 4 6.32v4.47l2 1.88zM18 11c0-2.76-2.24-5-5-5H8c-2.76 0-5 2.24-5 5v4.47l-1 .94v.59h14v-.59l-1-.94V11z"></path></svg>
            </button>
            <!-- Avatar click now opens the Right Sidebar -->
            <div class="user-avatar" onclick="toggleProfileSidebar()" aria-label="User Profile">
                <img src="https://picsum.photos/seed/anusha/100/100" alt="User">
            </div>
        </div>
    </header>

    <!-- Left Sidebar (Navigation Only) -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-section">
            <a href="#" class="sidebar-link active" id="link-home" onclick="switchTab('home')">
                <svg viewBox="0 0 24 24"><path d="M4 21V10.08l8-6.96 8 6.96V21h-6v-6h-4v6H4z"></path></svg>
                Home
            </a>
            <a href="#" class="sidebar-link" id="link-shorts" onclick="switchTab('shorts')">
                <svg viewBox="0 0 24 24"><path d="M10 14.65v-5.3L15 12l-5 2.65zm7.77-4.33c-.77-.32-1.2-.5-1.2-.5L18 9.06c1.84-.96 2.53-3.23 1.56-5.06s-3.24-2.53-5.07-1.56L6 6.94c-1.29.68-2.07 2.04-2 3.49.07 1.42.93 2.67 2.22 3.25.03.01 1.2.5 1.2.5L6 14.93c-1.83.97-2.53 3.24-1.56 5.07.97 1.83 3.24 2.53 5.07 1.56l8.5-4.5c1.29-.68 2.07-2.04 2-3.49-.07-1.42-.93-2.66-2.22-3.25zM10 5.27c.56-.3 1.25-.09 1.55.48l1.5 2.82c.3.56.09 1.25-.48 1.55L10 11.1V5.27zm3.5 13.46l-1.5-2.82c-.3-.56-.09-1.25.48-1.55l4.47-2.36v5.83l-3.45 2.9z"></path></svg>
                Shorts
            </a>
            <a href="#" class="sidebar-link">
                <svg viewBox="0 0 24 24"><path d="M20 7H4V6h16v1zm0 2H4v1h16V9zM4 17h16v-1H4v1zm6-3h10v-1H10v1zm-6 2h16v-1H4v1zm11-7H4v1h11V9z"></path></svg>
                Subscriptions
            </a>
        </div>
        <div class="sidebar-section">
            <h3 class="section-title">You</h3>
            <a href="#" class="sidebar-link">
                <svg viewBox="0 0 24 24"><path d="M11 7l6 3.5-6 3.5V7zm7 13H4V6H3v15h15v-1zm3-2H6V3h15v15zM7 17h13V4H7v13z"></path></svg>
                Library
            </a>
            <a href="#" class="sidebar-link">
                <svg viewBox="0 0 24 24"><path d="M14.97 16.95L10 13.87V7h2v5.76l4.03 2.49-.03 1.7zM22 12c0 5.51-4.49 10-10 10S2 17.51 2 12h1c0 4.96 4.04 9 9 9s9-4.04 9-9-4.04-9-9-9C8.81 3 5.92 4.64 4.28 7.38c-.11.18-.22.37-.31.56L3 7.5V12H2V6h1v1.77c.22-.36.48-.69.75-1.01C5.62 3.46 8.67 1.8 12 1.8c5.51 0 10 4.49 10 10z"></path></svg>
                History
            </a>
        </div>
    </aside>

    <!-- RIGHT SIDEBAR (PROFILE DRAWER) -->
    <!-- This section is placed on the right and opens when clicking the avatar -->
    <aside class="right-sidebar" id="rightSidebar">
        <div class="sidebar-section">
            <div style="display:flex; justify-content:space-between; align-items:center; padding: 12px; margin-bottom:-12px;">
                <span style="font-size:14px; color:#aaa; cursor:pointer;" onclick="closeProfileSidebar()">&#10005; Close</span>
            </div>

            <!-- ANUSHA PROFILE SECTION -->
            <div class="profile-header">
                <img src="https://picsum.photos/seed/anusha/100/100" alt="Anusha" class="profile-avatar-large">
                <div class="profile-info">
                    <div class="profile-name">Anusha Maddimsetti</div>
                    <div class="profile-email">anushamaddimsetti7@gmail.com</div>
                </div>
            </div>

            <div class="account-actions">
                <a href="#" class="account-link" onclick="showToast('Opening Google Account settings')">Google Account</a>
                <div class="account-buttons">
                    <button class="text-btn" onclick="showToast('Switch Account clicked')">Switch account</button>
                    <span class="separator">|</span>
                    <button class="text-btn" onclick="signOut()">Sign out</button>
                </div>
            </div>

            <a href="#" class="sidebar-link" onclick="showToast('Opening YouTube Studio')">
                <svg viewBox="0 0 24 24"><path d="M10 9.35 15 12l-5 2.65V9.35zM19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H5V6h14v12z"></path></svg>
                YouTube Studio
            </a>
            <a href="#" class="sidebar-link" onclick="showToast('Purchases')">
                <svg viewBox="0 0 24 24"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"></path></svg>
                Purchases and memberships
            </a>
            <a href="#" class="sidebar-link" onclick="showToast('Your Data')">
                <svg viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"></path></svg>
                Your data in YouTube
            </a>

            <div class="sidebar-link" onclick="showToast('Appearance settings')">
                <div class="settings-content">
                    <svg viewBox="0 0 24 24"><path d="M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z"></path></svg>
                    <span class="settings-text">Appearance: Device theme</span>
                </div>
                <svg class="chevron" viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" fill="#aaa"></path></svg>
            </div>

            <div class="sidebar-link" onclick="showToast('Language settings')">
                <div class="settings-content">
                    <svg viewBox="0 0 24 24"><path d="M12.87 15.07l-2.54-2.51.03-.03A17.52 17.52 0 0014.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>
                    <span class="settings-text">Display language: English</span>
                </div>
                <svg class="chevron" viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" fill="#aaa"></path></svg>
            </div>

            <div class="sidebar-link" onclick="showToast('Restricted Mode is OFF')">
                <div class="settings-content">
                    <svg viewBox="0 0 24 24"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"></path></svg>
                    <span class="settings-text">Restricted Mode: Off</span>
                </div>
                <svg class="chevron" viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" fill="#aaa"></path></svg>
            </div>

            <div class="sidebar-link" onclick="showToast('Location settings')">
                <div class="settings-content">
                    <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></svg>
                    <span class="settings-text">Location: India</span>
                </div>
                <svg class="chevron" viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" fill="#aaa"></path></svg>
            </div>

            <a href="#" class="sidebar-link" onclick="showToast('Keyboard shortcuts')">
                <svg viewBox="0 0 24 24"><path d="M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"></path></svg>
                Keyboard shortcuts
            </a>
            <a href="#" class="sidebar-link" onclick="showToast('Settings')">
                <svg viewBox="0 0 24 24"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.12.22-.07.49-.12-.64l2.11 1.65c-.04.32-.07.64-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"></path></svg>
                Settings
            </a>
            <a href="#" class="sidebar-link" onclick="showToast('Help Center')">
                <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></path></svg>
                Help
            </a>
            <a href="#" class="sidebar-link" onclick="showToast('Send feedback')">
                <svg viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z"></path></svg>
                Send feedback
            </a>
        </div>
    </aside>

    <!-- Main Content -->
    <main id="mainContent">
        
        <!-- Categories -->
        <div class="chips-container" id="chipsContainer">
            <button class="chip active" onclick="filterCategory('All', this)">All</button>
            <button class="chip" onclick="filterCategory('Gaming', this)">Gaming</button>
            <button class="chip" onclick="filterCategory('Music', this)">Music</button>
            <button class="chip" onclick="filterCategory('Live', this)">Live</button>
            <button class="chip" onclick="filterCategory('Coding', this)">Coding</button>
            <button class="chip" onclick="filterCategory('News', this)">News</button>
        </div>

        <!-- Grid Container -->
        <div id="gridContainer" class="video-grid">
            <!-- Javascript will populate this -->
        </div>
    </main>

    <!-- Video Player Modal -->
    <div class="player-modal" id="playerModal">
        <button class="close-player" onclick="closePlayer()">&times;</button>
        <div class="player-content" id="playerContent">
            <video controls class="player-video" id="playerVideo"></video>
        </div>
        <div class="player-details">
            <h2 id="playerTitle">Video Title</h2>
            <p id="playerChannel">Channel Name</p>
        </div>
    </div>

    <!-- Toast Notification Element -->
    <div id="toast" class="toast">Action performed</div>

    <script>
        // --- DATA SIMULATION ---
        
        // Sample Video URLs
        const url1 = "https://www.w3schools.com/html/mov_bbb.mp4";
        const url2 = "https://www.w3schools.com/html/movie.mp4";
        const url3 = "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4";
        const url4 = "https://file-examples.com/storage/fe701d61bd6368899cc3527/2017/04/file_example_MP4_480_1_5MG.mp4";

        // Regular Videos
        const videoData = [
            { id: 1, title: "First Video - Big Buck Bunny", channel: "Blender Foundation", views: "5.2M", time: "1 day ago", category: "Animation", type: "video", url: url1 },
            { id: 2, title: "Top 10 Goals of Month", channel: "SportCenter", views: "500K", time: "5 hours ago", category: "Sports", type: "video", url: url2 },
            { id: 3, title: "Lofi Hip Hop Radio - Beats to Relax", channel: "Lofi Girl", views: "32K", time: "Live", category: "Music", type: "video", url: url3 },
            { id: 4, title: "Elden Ring: Shadow of Erdtree Review", channel: "GameSpot", views: "2.5M", time: "1 day ago", category: "Gaming", type: "video", url: url4 },
            { id: 5, title: "Learn React in 10 Minutes", channel: "Web Dev Simplified", views: "890K", time: "1 week ago", category: "Coding", type: "video", url: url1 },
            { id: 6, title: "Traveling to Japan: What you need to know", channel: "Drew Binsky", views: "450K", time: "3 days ago", category: "Travel", type: "video", url: url2 },
        ];

        // Shorts Data
        const shortsData = [
            { id: 101, title: "Wait for drop! ðŸŽµ", channel: "ViralBeats", views: "12M", type: "short",url: url3, },
            { id: 102, title: "Life hack you didn't know", channel: "5MinCraft", views: "4.5M", type: "short", url: url4 },
            { id: 103, title: "This cat is so funny", channel: "CatWorld", views: "20M", type: "short", url: url1 },
            { id: 104, title: "How to tie a tie in 10s", channel: "QuickTips", views: "1.2M", type: "short", url: url2 },
            { id: 105, title: "Delicious Ramen Recipe", channel: "FoodieHeaven", views: "500K", type: "short", url: url3 },
            { id: 106, title: "Amazing Basketball Shot", channel: "HoopsTV", views: "3M", type: "short", url: url4 },
            { id: 107, title: "Gaming Glitch #45", channel: "GlitchGamer", views: "800K", type: "short", url: url1 },
            { id: 108, title: "Satisfying Soap Cutting", channel: "OddlySatisfying", views: "15M", type: "short", url: url2 },
        ];

        const grid = document.getElementById('gridContainer');
        const searchInput = document.getElementById('searchInput');
        let currentTab = 'home'; 

        // --- FUNCTIONS ---

        function getThumbnail(id) {
            return `https://picsum.photos/seed/${id}/320/180`;
        }
        function getShortThumbnail(id) {
            return `https://picsum.photos/seed/${id}/270/480`; 
        }
        function getAvatar(channel) {
            return `https://picsum.photos/seed/${channel}/50/50`;
        }

        function showSkeleton() {
            grid.innerHTML = '';
            const count = currentTab === 'shorts' ? 8 : 8;
            for(let i=0; i<count; i++) {
                const skeletonHTML = `
                    <div class="skeleton-card">
                        <div class="thumbnail skeleton"></div>
                        <div class="video-info">
                            <div class="channel-icon skeleton"></div>
                            <div class="video-details">
                                <div class="video-title skeleton"></div>
                                <div class="channel-name skeleton"></div>
                                <div class="video-meta skeleton"></div>
                            </div>
                        </div>
                    </div>
                `;
                grid.innerHTML += skeletonHTML;
            }
        }

        function renderVideos(videos) {
            grid.innerHTML = '';
            if(videos.length === 0) {
                grid.innerHTML = '<div style="grid-column: 1/-1; text-align: center; padding: 40px; color: #aaa;">No videos found.</div>';
                return;
            }

            videos.forEach(video => {
                const card = document.createElement('div');
                card.className = 'video-card';
                // Click opens player
                card.onclick = () => openPlayer(video, 'video');
                
                card.innerHTML = `
                    <div class="thumbnail">
                        <img src="${getThumbnail(video.id)}" alt="${video.title}" loading="lazy">
                        <div class="duration">${Math.floor(Math.random() * 10) + 2}:${Math.floor(Math.random() * 59).toString().padStart(2, '0')}</div>
                    </div>
                    <div class="video-info">
                        <div class="channel-icon">
                            <img src="${getAvatar(video.channel)}" alt="${video.channel}">
                        </div>
                        <div class="video-details">
                            <h3 class="video-title">${video.title}</h3>
                            <div class="channel-name">${video.channel}</div>
                            <div class="video-meta">${video.views} views â€¢ ${video.time}</div>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function renderShorts(shorts) {
            grid.innerHTML = '';
            
            shorts.forEach(short => {
                const card = document.createElement('div');
                card.className = 'video-card short-card';
                
                // Click opens player
                card.onclick = () => openPlayer(short, 'short');

                card.innerHTML = `
                    <div class="thumbnail">
                        <img src="${getShortThumbnail(short.id)}" alt="${short.title}" loading="lazy">
                        <div class="play-overlay">
                            <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                        </div>
                    </div>
                    <div class="short-info">
                        <h3 class="short-title">${short.title}</h3>
                        <div class="channel-name">${short.channel}</div>
                        <div class="video-meta">${short.views} views</div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function switchTab(tabName) {
            currentTab = tabName;
            
            document.querySelectorAll('.sidebar-link').forEach(l => l.classList.remove('active'));
            if(tabName === 'home') {
                document.getElementById('link-home').classList.add('active');
                document.getElementById('chipsContainer').style.display = 'flex';
                grid.className = 'video-grid'; 
                showSkeleton();
                setTimeout(() => renderVideos(videoData), 500);
            } else {
                document.getElementById('link-shorts').classList.add('active');
                document.getElementById('chipsContainer').style.display = 'none'; 
                grid.className = 'shorts-grid'; 
                showSkeleton();
                setTimeout(() => renderShorts(shortsData), 500);
            }

            if(window.innerWidth <= 768) {
                document.getElementById('sidebar').classList.remove('active');
            }
        }

        // PLAYER MODAL (FULL CODE - PLAYS SHORTS AND VIDEOS)
        function openPlayer(media, mediaType) {
            const modal = document.getElementById('playerModal');
            const videoEl = document.getElementById('playerVideo');
            const titleEl = document.getElementById('playerTitle');
            const channelEl = document.getElementById('playerChannel');
            const playerContent = document.getElementById('playerContent');

            // Set Metadata
            titleEl.innerText = media.title;
            channelEl.innerText = media.channel;

            // Set Video Source
            videoEl.src = media.url;
            
            // Adjust Styles for Short vs Video
            if (mediaType === 'short') {
                playerContent.classList.add('is-short');
                // Short Logic: Force video to fill the tall vertical container
                videoEl.style.objectFit = 'cover';
                videoEl.style.height = '100%';
                videoEl.style.width = '100%';
            } else {
                playerContent.classList.remove('is-short');
                // Normal Video Logic: Standard aspect ratio
                videoEl.style.objectFit = 'contain';
                videoEl.style.height = 'auto';
            }

            // Show Modal
            modal.style.display = 'flex';

            // Play Video
            videoEl.play().catch(error => {
                console.log("Autoplay prevented", error);
            });
        }

        function closePlayer() {
            const modal = document.getElementById('playerModal');
            const videoEl = document.getElementById('playerVideo');

            // Stop and Reset
            videoEl.pause();
            videoEl.currentTime = 0;
            videoEl.src = ""; 

            // Hide Modal
            modal.style.display = 'none';
        }

        function filterCategory(category, btnElement) {
            if(currentTab !== 'home') return;

            document.querySelectorAll('.chip').forEach(c => c.classList.remove('active'));
            btnElement.classList.add('active');

            const filtered = category === 'All' 
                ? videoData 
                : videoData.filter(v => v.category === category);
            
            showSkeleton();
            setTimeout(() => renderVideos(filtered), 500);
        }

        function performSearch() {
            if(currentTab === 'home') {
                const query = searchInput.value.toLowerCase();
                const filtered = videoData.filter(v => 
                    v.title.toLowerCase().includes(query) || 
                    v.channel.toLowerCase().includes(query)
                );
                showSkeleton();
                setTimeout(() => renderVideos(filtered), 500);
            }
        }

        // --- SIDEBAR HANDLERS ---

        // Toggles Left Sidebar (Navigation)
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const main = document.getElementById('mainContent');
            
            if (window.innerWidth <= 768) {
                sidebar.classList.toggle('active');
            } else {
                sidebar.classList.toggle('collapsed');
                main.classList.toggle('expanded');
            }
        }

        // Toggles Right Sidebar (Profile)
        function toggleProfileSidebar() {
            const sidebar = document.getElementById('rightSidebar');
            const overlay = document.getElementById('overlay');
            sidebar.classList.toggle('active');
            overlay.classList.toggle('active');
        }

        function closeProfileSidebar() {
            const sidebar = document.getElementById('rightSidebar');
            const overlay = document.getElementById('overlay');
            sidebar.classList.remove('active');
            overlay.classList.remove('active');
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.innerText = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }
        
        function signOut() {
            showToast("Signing out...");
            setTimeout(() => {
                // Hide profile section content
                const profileSection = document.querySelector('.right-sidebar .sidebar-section');
                if(profileSection) profileSection.style.display = 'none';
                showToast("Signed out successfully");
                closeProfileSidebar();
            }, 1000);
        }

        window.onload = () => {
            switchTab('home'); 
        };

    </script>
</body>
</html>
